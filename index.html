<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÿ®Ÿàÿßÿ®ÿ© ÿßŸÑÿ∑ÿßŸÑÿ® ÿßŸÑÿ∞ŸÉŸäÿ© - 1446</title>
    <!-- Scripts: React, Tailwind, Lucide Icons -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Tajawal', sans-serif; }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-slate-50 min-h-screen text-slate-800">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // --- ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸàÿßŸÑÿµŸàÿ± ---
        const IMAGES = {
            kickingBall: "https://j.top4top.io/p_3699f6l8q0.jpeg", 
            watchingTV: "https://g.top4top.io/p_3699ay7by0.jpeg",
            soupBowl: "https://l.top4top.io/p_3699x0n0i0.jpeg", 
            cheese: "https://up6.cc/2026/02/177124770938951.jpeg",
            fries: "https://up6.cc/2026/02/177124770941072.jpeg",
            clean: "https://up6.cc/2026/02/177124770943813.jpeg",
            trampoline: "https://up6.cc/2026/02/177124770945284.jpeg",
            paint: "https://up6.cc/2026/02/17712482217751.jpeg",
            hand: "https://up6.cc/2026/02/177124822183682.jpeg",
            plant: "https://up6.cc/2026/02/177124822187173.jpeg",
            stand: "https://up6.cc/2026/02/17712482218954.jpeg",
            tent: "https://up6.cc/2026/02/177124822191445.jpeg"
        };

        const ISLAMIC_DATA = [
            { q: "1- ÿπÿØÿØ ÿ£ÿ±ŸÉÿßŸÜ ÿßŸÑÿ•ŸäŸÖÿßŸÜ:", opts: ["ÿ£ - ÿ≥ÿ™ÿ©", "ÿ® - ÿ´ŸÑÿßÿ´ÿ©", "ÿ¨ - ÿÆŸÖÿ≥ÿ©"], ans: 0 },
            { q: "2- ÿßŸÑÿ•ŸäŸÖÿßŸÜ ÿ®ÿßŸÑŸÇÿ±ÿ¢ŸÜ ÿßŸÑŸÉÿ±ŸäŸÖ ŸÖŸÜ ÿßŸÑÿ•ŸäŸÖÿßŸÜ ÿ®ŸÄ:", opts: ["ÿ£ - ÿßŸÑŸÖŸÑÿßÿ¶ŸÉÿ©", "ÿ® - ÿßŸÑŸÉÿ™ÿ®", "ÿ¨ - ÿßŸÑŸäŸàŸÖ ÿßŸÑÿ¢ÿÆÿ±"], ans: 1 },
            { q: "3- ÿßŸÑŸÖŸÑÿßÿ¶ŸÉÿ© ŸÖÿÆŸÑŸàŸÇÿßÿ™ ÿπÿ∏ŸäŸÖÿ© ÿÆŸÑŸÇŸáÿß ÿßŸÑŸÑŸá ŸÖŸÜ:", opts: ["ÿ£ - ŸÜŸàÿ±", "ÿ® - ÿ∑ŸäŸÜ", "ÿ¨ - ŸÜÿßÿ±"], ans: 0 },
            { q: "4- ÿßŸÑŸÖŸÑÿßÿ¶ŸÉÿ© ÿßŸÑŸÖŸàŸÉŸÑÿ© ÿ®ŸÉÿ™ÿßÿ®ÿ© ÿßŸÑÿ£ÿπŸÖÿßŸÑ ŸáŸä:", opts: ["ÿ£ - ÿßŸÑÿ≠ŸÅÿ∏ÿ© ÿπŸÑŸäŸáŸÖ ÿßŸÑÿ≥ŸÑÿßŸÖ", "ÿ® - ÿ¨ÿ®ÿ±ŸäŸÑ ÿπŸÑŸäŸá ÿßŸÑÿ≥ŸÑÿßŸÖ", "ÿ¨ - ÿ•ÿ≥ÿ±ÿßŸÅŸäŸÑ ÿπŸÑŸäŸá ÿßŸÑÿ≥ŸÑÿßŸÖ"], ans: 0 },
            { q: "5- ÿßŸÑÿ•ŸäŸÖÿßŸÜ ÿ®ÿßŸÑÿ¨ŸÜÿ© ŸàÿßŸÑŸÜÿßÿ± ŸÖŸÜ ÿßŸÑÿ•ŸäŸÖÿßŸÜ ÿ®ŸÄ:", opts: ["ÿ£ - ÿßŸÑÿ±ÿ≥ŸÑ", "ÿ® - ÿßŸÑŸÉÿ™ÿ®", "ÿ¨ - ÿßŸÑŸäŸàŸÖ ÿßŸÑÿ¢ÿÆÿ±"], ans: 2 },
            { q: "6- ÿ≠ŸÉŸÖ ÿßŸÑÿ•ŸäŸÖÿßŸÜ ÿ®ÿßŸÑŸÖŸÑÿßÿ¶ŸÉÿ©:", opts: ["ÿ£ - Ÿàÿßÿ¨ÿ®", "ÿ® - ÿ≥ŸÜÿ©", "ÿ¨ - ŸÖÿ≥ÿ™ÿ≠ÿ®"], ans: 0 },
            { q: "7- ŸÇÿßŸÑ ÿ±ÿ≥ŸàŸÑ ÿßŸÑŸÑŸá Ô∑∫: (ÿ£ŸÜ ÿ™ÿ§ŸÖŸÜ ÿ®ÿßŸÑŸÑŸá ŸàŸÖŸÑÿßÿ¶ŸÉÿ™Ÿá ŸàŸÉÿ™ÿ®Ÿá Ÿàÿ±ÿ≥ŸÑŸá ŸàÿßŸÑŸäŸàŸÖ ÿßŸÑÿ¢ÿÆÿ± Ÿàÿ™ÿ§ŸÖŸÜ ÿ®ÿßŸÑŸÇÿØÿ± ÿÆŸäÿ±Ÿá Ÿàÿ¥ÿ±Ÿá) ÿØŸÑŸäŸÑ ÿπŸÑŸâ ÿ£ÿ±ŸÉÿßŸÜ:", opts: ["ÿ£ - ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖ", "ÿ® - ÿßŸÑÿ•ŸäŸÖÿßŸÜ", "ÿ¨ - ÿßŸÑÿ•ÿ≠ÿ≥ÿßŸÜ"], ans: 1 },
            { q: "8- ÿ•ŸÅÿ±ÿßÿØ ÿßŸÑŸÑŸá ÿ™ÿπÿßŸÑŸâ ÿ®ÿßŸÑÿ±ÿ®Ÿàÿ®Ÿäÿ© ŸàÿßŸÑÿ£ŸÑŸàŸáŸäÿ© ŸàŸÖÿßŸÑŸá ŸÖŸÜ ÿßŸÑÿ£ÿ≥ŸÖÿßÿ° ŸàÿßŸÑÿµŸÅÿßÿ™ ŸáŸà ŸÖÿπŸÜŸâ:", opts: ["ÿ£ - ÿßŸÑÿ•ŸäŸÖÿßŸÜ ÿ®ÿßŸÑŸÑŸá", "ÿ® - ÿ•ŸÅÿ±ÿßÿØ ÿßŸÑŸÑŸá ÿ®ÿßŸÑÿ±ÿ®Ÿàÿ®Ÿäÿ©", "ÿ¨ - ÿ•ŸÅÿ±ÿßÿØ ÿßŸÑŸÑŸá ÿ®ÿßŸÑÿ£ŸÑŸàŸáŸäÿ©"], ans: 0 },
            { q: "9- ÿµÿ±ŸÅ ÿ¨ŸÖŸäÿπ ÿ£ŸÜŸàÿßÿπ ÿßŸÑÿπÿ®ÿßÿØÿ© ŸÑŸÑŸá Ÿàÿ≠ÿØŸá ŸÑÿß ÿ¥ÿ±ŸäŸÉ ŸÑŸá ŸáŸà ŸÖÿπŸÜŸâ:", opts: ["ÿ£ - ÿ•ŸÅÿ±ÿßÿØ ÿßŸÑŸÑŸá ÿ®ÿßŸÑÿ±ÿ®Ÿàÿ®Ÿäÿ©", "ÿ® - ÿ•ŸÅÿ±ÿßÿØ ÿßŸÑŸÑŸá ÿ®ÿßŸÑÿ£ŸÑŸàŸáŸäÿ©", "ÿ¨ - ÿ•ŸÅÿ±ÿßÿØ ÿßŸÑŸÑŸá ÿ®ÿßŸÑÿ£ÿ≥ŸÖÿßÿ° ŸàÿßŸÑÿµŸÅÿßÿ™"], ans: 1 },
            { q: "10- ŸÖŸÜ ÿßŸÑÿ£ŸÖÿ´ŸÑÿ© ÿßŸÑÿØÿßŸÑÿ© ÿπŸÑŸâ ÿ•ŸÅÿ±ÿßÿØ ÿßŸÑŸÑŸá ÿ®ÿßŸÑÿ±ÿ®Ÿàÿ®Ÿäÿ©:", opts: ["ÿ£ - ŸÑÿß ÿÆÿßŸÑŸÇ ÿ•ŸÑÿß ÿßŸÑŸÑŸá", "ÿ® - ŸÑÿß ŸÜÿØÿπŸà ÿ•ŸÑÿß ÿßŸÑŸÑŸá", "ÿ¨ - ŸÑÿß ŸÜÿ≥ÿ¨ÿØ ÿ•ŸÑÿß ÿßŸÑŸÑŸá"], ans: 0 },
            { q: "11- ŸÖŸÜ ÿßŸÑÿ£ŸÖÿ´ŸÑÿ© ÿßŸÑÿØÿßŸÑÿ© ÿπŸÑŸâ ÿ•ŸÅÿ±ÿßÿØ ÿßŸÑŸÑŸá ÿ®ÿßŸÑÿ£ŸÑŸàŸáŸäÿ©:", opts: ["ÿ£ - ŸÑÿß ÿÆÿßŸÑŸÇ ÿ•ŸÑÿß ÿßŸÑŸÑŸá", "ÿ® - ŸÑÿß Ÿäÿ≠ŸäŸä ÿßŸÑŸÖŸàÿ™Ÿâ ÿ•ŸÑÿß ÿßŸÑŸÑŸá", "ÿ¨ - ŸÑÿß ŸÜÿØÿπŸà ÿ•ŸÑÿß ÿßŸÑŸÑŸá"], ans: 2 },
            { q: "12- ŸÖŸÜ ÿ£ÿπŸÖÿßŸÑ ÿßŸÑŸÖŸÑÿßÿ¶ŸÉÿ© ÿßŸÑŸÜÿ≤ŸàŸÑ ÿ®ÿßŸÑŸàÿ≠Ÿä ŸàŸáŸà ÿπŸÖŸÑ:", opts: ["ÿ£ - ÿ¨ÿ®ÿ±ŸäŸÑ ÿπŸÑŸäŸá ÿßŸÑÿ≥ŸÑÿßŸÖ", "ÿ® - ÿßŸÑÿ≠ŸÅÿ∏ÿ© ÿπŸÑŸäŸáŸÖ ÿßŸÑÿ≥ŸÑÿßŸÖ", "ÿ¨ - ÿ•ÿ≥ÿ±ÿßŸÅŸäŸÑ ÿπŸÑŸäŸá ÿßŸÑÿ≥ŸÑÿßŸÖ"], ans: 0 },
            { q: "13- ÿßŸÑÿπŸÑŸÖ ŸàÿßŸÑÿ•ŸÇÿ±ÿßÿ± ÿ®ÿ£ŸÜ ÿßŸÑŸÑŸá Ÿàÿ≠ÿØŸá ŸáŸà ÿßŸÑÿÆÿßŸÑŸÇ ÿßŸÑÿ±ÿßÿ≤ŸÇ ÿßŸÑŸÖÿßŸÑŸÉ ÿßŸÑŸÖÿØÿ®ÿ± ŸÑÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿÆŸÑŸàŸÇÿßÿ™ ŸáŸà ŸÖÿπŸÜŸâ:", opts: ["ÿ£ - ÿ•ŸÅÿ±ÿßÿØ ÿßŸÑŸÑŸá ÿ®ÿßŸÑÿ£ŸÑŸàŸáŸäÿ©", "ÿ® - ÿ•ŸÅÿ±ÿßÿØ ÿßŸÑŸÑŸá ÿ®ÿßŸÑÿ£ÿ≥ŸÖÿßÿ° ŸàÿßŸÑÿµŸÅÿßÿ™", "ÿ¨ - ÿ•ŸÅÿ±ÿßÿØ ÿßŸÑŸÑŸá ÿ®ÿßŸÑÿ±ÿ®Ÿàÿ®Ÿäÿ©"], ans: 2 },
            { q: "14- ÿ£ÿπÿ∏ŸÖ ÿ¢Ÿäÿ© ŸÅŸä ÿßŸÑŸÇÿ±ÿ¢ŸÜ:", opts: ["ÿ£ - ÿßŸÑŸÉÿ±ÿ≥Ÿä", "ÿ® - ÿßŸÑŸÅÿßÿ™ÿ≠ÿ©", "ÿ¨ - ÿßŸÑÿ•ÿÆŸÑÿßÿµ"], ans: 0 },
            { q: "15- Ÿàÿ±ÿØÿ™ ÿ¢Ÿäÿ© ÿßŸÑŸÉÿ±ÿ≥Ÿä ŸÅŸä ÿ≥Ÿàÿ±ÿ©:", opts: ["ÿ£ - ÿßŸÑÿµŸÅ", "ÿ® - ÿßŸÑÿ®ŸÇÿ±ÿ©", "ÿ¨ - ÿßŸÑÿ¥ŸÖÿ≥"], ans: 1 },
            { q: "16- ŸÖÿπŸÜŸâ ŸÉŸÑŸÖÿ© (ÿ≥ŸÜÿ©):", opts: ["ÿ£ - ÿ≠ÿ≤ŸÜ", "ÿ® - ŸÜÿπÿßÿ≥", "ÿ¨ - ŸÑÿß Ÿäÿ™ÿ®ÿπŸá ÿ≠ŸÅÿ∏ŸáŸÖÿß"], ans: 1 },
            { q: "17- ŸÖÿπŸÜŸâ ŸÉŸÑŸÖÿ© (ŸàŸÑÿß Ÿäÿ§ŸàÿØŸá ÿ≠ŸÅÿ∏ŸáŸÖÿß):", opts: ["ÿ£ - ŸÑÿß Ÿäÿ™ÿ®ÿπŸá ÿ≠ŸÅÿ∏ŸáŸÖÿß", "ÿ® - ŸÜÿπÿßÿ≥", "ÿ¨ - ÿ≠ÿ≤ŸÜ"], ans: 0 },
            { q: "18- ŸÇÿßŸÑ ÿ™ÿπÿßŸÑŸâ (ŸàŸÇŸÑ ÿ±ÿ® ÿ≤ÿØŸÜŸä ÿπŸÑŸÖÿß) ÿ™ÿØŸÑ ÿßŸÑÿ¢Ÿäÿ© ÿπŸÑŸâ: ", opts: ["ÿ£ - ÿ∑ŸÑÿ® ÿßŸÑÿ±ÿ≠ŸÖÿ©", "ÿ® - ÿ∑ŸÑÿ® ÿßŸÑÿπŸÑŸÖ", "ÿ¨ - ÿ∑ŸÑÿ® ÿßŸÑŸÖÿ∫ŸÅÿ±ÿ©"], ans: 1 },
            { q: "19- ÿ≠ŸÉŸÖ ÿßŸÑÿ•ŸäŸÖÿßŸÜ ÿ®ÿßŸÑŸÉÿ™ÿ®:", opts: ["ÿ£ - Ÿàÿßÿ¨ÿ®", "ÿ® - ÿ≥ŸÜÿ©", "ÿ¨ - ŸÖÿ≥ÿ™ÿ≠ÿ®"], ans: 0 },
            { q: "20- ÿ£ŸÜÿ≤ŸÑ ÿßŸÑŸÑŸá ÿßŸÑŸÇÿ±ÿ¢ŸÜ ÿßŸÑŸÉÿ±ŸäŸÖ ÿπŸÑŸâ:", opts: ["ÿ£ - ŸÖÿ≠ŸÖÿØ ÿµŸÑŸâ ÿßŸÑŸÑŸá ÿπŸÑŸäŸá Ÿàÿ≥ŸÑŸÖ", "ÿ® - ŸÖŸàÿ≥Ÿâ ÿπŸÑŸäŸá ÿßŸÑÿ≥ŸÑÿßŸÖ", "ÿ¨ - ÿπŸäÿ≥Ÿâ ÿπŸÑŸäŸá ÿßŸÑÿ≥ŸÑÿßŸÖ"], ans: 0 }
        ];

        const ENGLISH_DATA = [
            { section: "General Knowledge", q: "1 - What did you do over the weekend?", opts: ["A. I am 10 years.", "B. I cleaned my room."], ans: 1 },
            { section: "General Knowledge", q: "2- How much flour do we need?", opts: ["A. It is 10 SAR.", "B. We need 2 cups"], ans: 1 },
            { section: "General Knowledge", q: "3- can I help you?", opts: ["A. Yes, please", "B. No, I am not."], ans: 0 },
            { section: "Reading", q: "1. He kicked a ball.", type: "reading", img: IMAGES.kickingBall, opts: ["‚úì", "‚úó"], ans: 0 },
            { section: "Reading", q: "2. She watched TV.", type: "reading", img: IMAGES.watchingTV, opts: ["‚úì", "‚úó"], ans: 1 },
            { section: "Writing", q: "1- breakfast - cooked she. (rearrange)", opts: ["A. She cooked breakfast.", "B. breakfast cooked she."], ans: 0 },
            { section: "Writing", q: "2. I'd like ________ please. (choose)", img: IMAGES.soupBowl, opts: ["cheese", "soup", "Ice cream"], ans: 1 },
            { section: "Grammar", q: "1- How ____ oil do you need?", opts: ["much", "many", "some"], ans: 0 },
            { section: "Grammar", q: "2- How ____ tomatoes do you need?", opts: ["much", "many", "some"], ans: 1 },
            { section: "Grammar", q: "3. We have ____ flour.", opts: ["any", "some", "many"], ans: 1 },
            { section: "Grammar", q: "4- We don't have ____ oil.", opts: ["any", "some", "many"], ans: 0 },
            { 
                section: "Vocabulary", type: "vocab", q: "Match the words with the correct pictures:",
                words: ["Trampoline", "clean", "French fries", "cheese"],
                items: [
                    { id: 0, word: "cheese", img: IMAGES.cheese },
                    { id: 1, word: "French fries", img: IMAGES.fries },
                    { id: 2, word: "clean", img: IMAGES.clean },
                    { id: 3, word: "Trampoline", img: IMAGES.trampoline }
                ]
            },
            { section: "Orthography", q: "Choose correct letter: Pai __ __", img: IMAGES.paint, opts: ["nd", "nt"], ans: 1 },
            { section: "Orthography", q: "Choose correct letter: Ha __ __", img: IMAGES.hand, opts: ["nd", "nt"], ans: 0 },
            { section: "Orthography", q: "Choose correct letter: Pla __ __", img: IMAGES.plant, opts: ["nd", "nt"], ans: 1 },
            { section: "Orthography", q: "Choose correct letter: Sta __ __", img: IMAGES.stand, opts: ["nd", "nt"], ans: 0 },
            { section: "Orthography", q: "Choose correct letter: Te __ __", img: IMAGES.tent, opts: ["nd", "nt"], ans: 1 }
        ];

        // --- ÿßŸÑŸÖŸÉŸàŸÜ ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿä ---
        const App = () => {
            const [activeSubject, setActiveSubject] = useState(null); 
            const [view, setView] = useState('menu'); 
            const [currentIdx, setCurrentIdx] = useState(0);
            const [answers, setAnswers] = useState({});
            const [vocabAnswers, setVocabAnswers] = useState({});
            const [showFeedback, setShowFeedback] = useState(false);

            const currentQuestions = activeSubject === 'islamic' ? ISLAMIC_DATA : ENGLISH_DATA;

            const handleStart = (subject) => {
                setActiveSubject(subject);
                setView('quiz');
                setCurrentIdx(0);
                setAnswers({});
                setVocabAnswers({});
                setShowFeedback(false);
            };

            const handleSelect = (i) => {
                if (showFeedback) return;
                setAnswers({ ...answers, [currentIdx]: i });
                setShowFeedback(true);
            };

            const onDragStart = (e, word) => { e.dataTransfer.setData("word", word); };
            const onDrop = (e, id) => {
                e.preventDefault();
                const word = e.dataTransfer.getData("word");
                const newVocab = { ...vocabAnswers, [id]: word };
                setVocabAnswers(newVocab);
                if (Object.keys(newVocab).length === 4) setShowFeedback(true);
            };

            const next = () => {
                if (currentIdx < currentQuestions.length - 1) {
                    setCurrentIdx(currentIdx + 1);
                    const q = currentQuestions[currentIdx + 1];
                    setShowFeedback(q.type === 'vocab' ? Object.keys(vocabAnswers).length === 4 : answers[currentIdx + 1] !== undefined);
                } else { setView('results'); }
            };

            const prev = () => { if (currentIdx > 0) { setCurrentIdx(currentIdx - 1); setShowFeedback(true); } };

            const getScore = () => {
                let score = 0;
                currentQuestions.forEach((q, i) => {
                    if (q.type === 'vocab') {
                        q.items.forEach(item => { if (vocabAnswers[item.id] === item.word) score++; });
                    } else { if (answers[i] === q.ans) score++; }
                });
                return score;
            };

            const totalPoints = activeSubject === 'islamic' ? 20 : (ENGLISH_DATA.length - 1 + 4);

            return (
                <div className="flex flex-col items-center p-4 sm:p-8">
                    <header className="w-full max-w-3xl flex items-center justify-between mb-8 bg-white p-6 rounded-[2.5rem] shadow-sm border border-slate-200">
                        <div className="flex items-center gap-4">
                            <div className="bg-indigo-600 p-2 rounded-xl text-white">üéì</div>
                            <div>
                                <h1 className="text-2xl font-black text-slate-800">ÿ®Ÿàÿßÿ®ÿ© ÿßŸÑÿ∑ÿßŸÑÿ® ÿßŸÑÿ∞ŸÉŸäÿ©</h1>
                                <p className="text-[10px] text-slate-400 font-bold uppercase tracking-widest">ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ™ÿπŸÑŸäŸÖ ÿßŸÑÿ™ŸÅÿßÿπŸÑŸä</p>
                            </div>
                        </div>
                        {view !== 'menu' && (
                            <button onClick={() => setView('menu')} className="bg-slate-50 text-slate-600 px-5 py-2 rounded-xl font-bold border border-slate-200">ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©</button>
                        )}
                    </header>

                    <div className="w-full max-w-3xl animate-fade-in">
                        {view === 'menu' && (
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <button onClick={() => handleStart('islamic')} className="bg-white p-12 rounded-[4rem] shadow-sm border-2 border-transparent hover:border-emerald-500 transition-all flex flex-col items-center text-center">
                                    <div className="text-emerald-600 text-6xl mb-6">üìñ</div>
                                    <h3 className="text-2xl font-black">ÿßŸÑÿØÿ±ÿßÿ≥ÿßÿ™ ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖŸäÿ©</h3>
                                    <p className="text-slate-400 mt-2">ÿ£ÿ±ŸÉÿßŸÜ ÿßŸÑÿ•ŸäŸÖÿßŸÜ</p>
                                </button>
                                <button onClick={() => handleStart('english')} className="bg-white p-12 rounded-[4rem] shadow-sm border-2 border-transparent hover:border-indigo-500 transition-all flex flex-col items-center text-center">
                                    <div className="text-indigo-600 text-6xl mb-6">üåç</div>
                                    <h3 className="text-2xl font-black">English - We Can 3</h3>
                                    <p className="text-slate-400 mt-2">Unit 1 Assessment</p>
                                </button>
                            </div>
                        )}

                        {view === 'quiz' && (
                            <div className="bg-white rounded-[4rem] shadow-2xl border border-slate-200 overflow-hidden">
                                <div className={`p-4 ${activeSubject === 'english' ? 'bg-indigo-600' : 'bg-emerald-600'} flex items-center justify-between text-white font-black`}>
                                    <span className="text-xs uppercase tracking-widest px-4">{currentQuestions[currentIdx].section || 'ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±'}</span>
                                    <span className="text-xs px-4">{currentIdx + 1} / {currentQuestions.length}</span>
                                </div>

                                <div className="p-8 sm:p-14">
                                    {currentQuestions[currentIdx].type === 'vocab' ? (
                                        <div className="flex flex-col items-center">
                                            <h2 className="text-3xl font-black mb-10 text-center">ÿßÿ≥ÿ≠ÿ® ÿßŸÑŸÉŸÑŸÖÿ© ŸÑŸÑÿµŸàÿ±ÿ©:</h2>
                                            <div className="flex flex-wrap justify-center gap-4 mb-12 bg-slate-50 p-8 rounded-[2.5rem] border-2 border-dashed border-slate-200 w-full" dir="ltr">
                                                {currentQuestions[currentIdx].words.map(w => !Object.values(vocabAnswers).includes(w) && (
                                                    <div key={w} draggable onDragStart={(e) => onDragStart(e, w)} className="px-6 py-3 bg-white border-2 border-indigo-200 text-indigo-700 font-black rounded-2xl cursor-grab shadow-sm">{w}</div>
                                                ))}
                                            </div>
                                            <div className="grid grid-cols-2 gap-8 w-full max-w-xl items-center" dir="ltr">
                                                {currentQuestions[currentIdx].items.map(item => (
                                                    <React.Fragment key={item.id}>
                                                        <div className="flex justify-center bg-white p-5 rounded-[2rem] shadow-sm border border-slate-100 h-40 items-center overflow-hidden">
                                                            <img src={item.img} className="max-h-full object-contain" />
                                                        </div>
                                                        <div onDragOver={e => e.preventDefault()} onDrop={e => onDrop(e, item.id)} className={`h-24 border-2 border-dashed rounded-[1.5rem] flex items-center justify-center font-black text-xl transition-all ${vocabAnswers[item.id] ? 'bg-indigo-50 border-indigo-500 text-indigo-700 border-solid' : 'bg-slate-50 border-slate-200 text-slate-300'}`}>
                                                            {vocabAnswers[item.id] || "Drop Here"}
                                                        </div>
                                                    </React.Fragment>
                                                ))}
                                            </div>
                                        </div>
                                    ) : (
                                        <div className={activeSubject === 'english' ? 'text-left' : 'text-right'}>
                                            {currentQuestions[currentIdx].img && (
                                                <div className="flex justify-center mb-10 bg-slate-50/50 p-10 rounded-[3.5rem] border border-slate-100 overflow-hidden shadow-inner">
                                                    <img src={currentQuestions[currentIdx].img} className="max-h-60 object-contain rounded-2xl" />
                                                </div>
                                            )}
                                            <h2 className={`text-2xl sm:text-4xl font-black mb-12 leading-tight ${activeSubject === 'english' ? 'ltr' : 'rtl font-serif'}`} dir={activeSubject === 'english' ? 'ltr' : 'rtl'}>
                                                {currentQuestions[currentIdx].q}
                                            </h2>
                                            <div className="space-y-4">
                                                {currentQuestions[currentIdx].opts.map((opt, i) => {
                                                    const isCorrect = i === currentQuestions[currentIdx].ans;
                                                    const isSelected = answers[currentIdx] === i;
                                                    let btn = "w-full p-6 rounded-3xl border-2 font-bold text-xl flex items-center justify-between transition-all ";
                                                    btn += activeSubject === 'islamic' ? "flex-row-reverse text-right " : "flex-row text-left ";
                                                    if (showFeedback) {
                                                        if (isCorrect) btn += "border-green-500 bg-green-50 text-green-700 shadow-md";
                                                        else if (isSelected) btn += "border-red-500 bg-red-50 text-red-700 shadow-md";
                                                        else btn += "border-slate-50 text-slate-300 opacity-40 grayscale";
                                                    } else { btn += "border-slate-100 bg-white hover:border-indigo-500 hover:bg-blue-50/50 text-slate-600"; }
                                                    return (<button key={i} disabled={showFeedback} onClick={() => handleSelect(i)} className={btn} dir={activeSubject === 'english' ? 'ltr' : 'rtl'}><span>{opt}</span></button>);
                                                })}
                                            </div>
                                        </div>
                                    )}
                                    <div className="mt-16 flex gap-6 flex-row">
                                        <button onClick={next} disabled={!showFeedback} className={`flex-[2.5] py-5 px-10 rounded-3xl text-white font-black text-2xl shadow-xl flex items-center justify-center transition-all ${!showFeedback ? 'bg-slate-300' : 'bg-slate-800'}`}>
                                            {currentIdx === currentQuestions.length - 1 ? 'ÿ•ŸÜŸáÿßÿ°' : 'ÿßŸÑÿ™ÿßŸÑŸä'}
                                        </button>
                                        <button onClick={prev} disabled={currentIdx === 0} className="flex-1 py-5 px-6 rounded-3xl font-black bg-slate-50 text-slate-600 border border-slate-200 disabled:opacity-20 transition-all shadow-sm">
                                            ÿßŸÑÿ≥ÿßÿ®ŸÇ
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}

                        {view === 'results' && (
                            <div className="bg-white rounded-[4rem] shadow-2xl p-16 text-center border-b-[16px] border-indigo-600">
                                <div className="text-8xl mb-8">üèÜ</div>
                                <h2 className="text-5xl font-black mb-4">ŸÖÿß ÿ¥ÿßÿ° ÿßŸÑŸÑŸá!</h2>
                                <div className="bg-slate-50 rounded-[4rem] p-16 mb-12 border border-slate-100">
                                    <div className="text-9xl font-black text-indigo-600 mb-6">%{Math.round((getScore() / totalPoints) * 100)}</div>
                                    <p className="text-slate-500 font-black text-2xl uppercase tracking-widest">{getScore()} / {totalPoints} ÿ•ÿ¨ÿßÿ®ÿ© ÿµÿ≠Ÿäÿ≠ÿ©</p>
                                </div>
                                <div className="flex flex-col sm:flex-row gap-6">
                                    <button onClick={() => setView('menu')} className="flex-1 py-6 bg-slate-100 text-slate-600 font-black rounded-3xl border-2 border-slate-200">ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©</button>
                                    <button onClick={() => handleStart(activeSubject)} className="flex-1 py-6 bg-indigo-600 text-white font-black rounded-3xl shadow-2xl hover:bg-indigo-700">ÿ•ÿπÿßÿØÿ© ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±</button>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

