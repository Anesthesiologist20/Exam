<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ÿ®Ÿàÿßÿ®ÿ© ÿßŸÑÿ∑ÿßŸÑÿ®">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#10b981">

    <title>ÿ®Ÿàÿßÿ®ÿ© ÿßŸÑÿ∑ÿßŸÑÿ® ÿßŸÑÿ∞ŸÉŸäÿ© - 1446</title>
    
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
        body { 
            font-family: 'Tajawal', sans-serif; 
            overscroll-behavior-y: contain;
            background-color: #f8fafc;
        }
        .no-select { user-select: none; -webkit-user-select: none; }
        .ltr { direction: ltr; }
        .rtl { direction: rtl; }
        .quiz-card { border-radius: 50px; }
        .option-btn { border-radius: 20px; transition: all 0.2s ease; }
        .nav-btn-next { border-radius: 25px; background-color: #1e293b; }
        .nav-btn-prev { border-radius: 25px; background-color: #fcfcfc; color: #cbd5e1; border: 1px solid #f1f5f9; }
        
        /* ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ÿßŸÑŸÑŸÖÿ≥ ŸÑŸÑÿ¨ŸàÿßŸÑ */
        .active-scale:active { transform: scale(0.98); }
    </style>
</head>
<body class="min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const IMAGES = {
            kickingBall: "https://j.top4top.io/p_3699f6l8q0.jpeg", 
            watchingTV: "https://g.top4top.io/p_3699ay7by0.jpeg",
            soupBowl: "https://l.top4top.io/p_3699x0n0i0.jpeg", 
            cheese: "https://up6.cc/2026/02/177124770938951.jpeg",
            fries: "https://up6.cc/2026/02/177124770941072.jpeg",
            clean: "https://up6.cc/2026/02/177124770943813.jpeg",
            trampoline: "https://up6.cc/2026/02/177124770945284.jpeg",
            paint: "https://up6.cc/2026/02/17712482217751.jpeg",
            hand: "https://up6.cc/2026/02/177124822183682.jpeg",
            plant: "https://up6.cc/2026/02/177124822187173.jpeg",
            stand: "https://up6.cc/2026/02/17712482218954.jpeg",
            tent: "https://up6.cc/2026/02/177124822191445.jpeg"
        };

        const ISLAMIC_DATA = [
            { q: "1- ÿπÿØÿØ ÿ£ÿ±ŸÉÿßŸÜ ÿßŸÑÿ•ŸäŸÖÿßŸÜ:", opts: ["ÿ£ - ÿ≥ÿ™ÿ©", "ÿ® - ÿ´ŸÑÿßÿ´ÿ©", "ÿ¨ - ÿÆŸÖÿ≥ÿ©"], ans: 0 },
            { q: "2- ÿßŸÑÿ•ŸäŸÖÿßŸÜ ÿ®ÿßŸÑŸÇÿ±ÿ¢ŸÜ ÿßŸÑŸÉÿ±ŸäŸÖ ŸÖŸÜ ÿßŸÑÿ•ŸäŸÖÿßŸÜ ÿ®ŸÄ:", opts: ["ÿ£ - ÿßŸÑŸÖŸÑÿßÿ¶ŸÉÿ©", "ÿ® - ÿßŸÑŸÉÿ™ÿ®", "ÿ¨ - ÿßŸÑŸäŸàŸÖ ÿßŸÑÿ¢ÿÆÿ±"], ans: 1 },
            { q: "3- ÿßŸÑŸÖŸÑÿßÿ¶ŸÉÿ© ŸÖÿÆŸÑŸàŸÇÿßÿ™ ÿπÿ∏ŸäŸÖÿ© ÿÆŸÑŸÇŸáÿß ÿßŸÑŸÑŸá ŸÖŸÜ:", opts: ["ÿ£ - ŸÜŸàÿ±", "ÿ® - ÿ∑ŸäŸÜ", "ÿ¨ - ŸÜÿßÿ±"], ans: 0 },
            { q: "4- ÿßŸÑŸÖŸÑÿßÿ¶ŸÉÿ© ÿßŸÑŸÖŸàŸÉŸÑÿ© ÿ®ŸÉÿ™ÿßÿ®ÿ© ÿßŸÑÿ£ÿπŸÖÿßŸÑ ŸáŸä:", opts: ["ÿ£ - ÿßŸÑÿ≠ŸÅÿ∏ÿ© ÿπŸÑŸäŸáŸÖ ÿßŸÑÿ≥ŸÑÿßŸÖ", "ÿ® - ÿ¨ÿ®ÿ±ŸäŸÑ ÿπŸÑŸäŸá ÿßŸÑÿ≥ŸÑÿßŸÖ", "ÿ¨ - ÿ•ÿ≥ÿ±ÿßŸÅŸäŸÑ ÿπŸÑŸäŸá ÿßŸÑÿ≥ŸÑÿßŸÖ"], ans: 0 },
            { q: "5- ÿßŸÑÿ•ŸäŸÖÿßŸÜ ÿ®ÿßŸÑÿ¨ŸÜÿ© ŸàÿßŸÑŸÜÿßÿ± ŸÖŸÜ ÿßŸÑÿ•ŸäŸÖÿßŸÜ ÿ®ŸÄ:", opts: ["ÿ£ - ÿßŸÑÿ±ÿ≥ŸÑ", "ÿ® - ÿßŸÑŸÉÿ™ÿ®", "ÿ¨ - ÿßŸÑŸäŸàŸÖ ÿßŸÑÿ¢ÿÆÿ±"], ans: 2 },
            { q: "6- ÿ≠ŸÉŸÖ ÿßŸÑÿ•ŸäŸÖÿßŸÜ ÿ®ÿßŸÑŸÖŸÑÿßÿ¶ŸÉÿ©:", opts: ["ÿ£ - Ÿàÿßÿ¨ÿ®", "ÿ® - ÿ≥ŸÜÿ©", "ÿ¨ - ŸÖÿ≥ÿ™ÿ≠ÿ®"], ans: 0 },
            { q: "7- ŸÇÿßŸÑ ÿ±ÿ≥ŸàŸÑ ÿßŸÑŸÑŸá Ô∑∫: (ÿ£ŸÜ ÿ™ÿ§ŸÖŸÜ ÿ®ÿßŸÑŸÑŸá ŸàŸÖŸÑÿßÿ¶ŸÉÿ™Ÿá ŸàŸÉÿ™ÿ®Ÿá Ÿàÿ±ÿ≥ŸÑŸá ŸàÿßŸÑŸäŸàŸÖ ÿßŸÑÿ¢ÿÆÿ± Ÿàÿ™ÿ§ŸÖŸÜ ÿ®ÿßŸÑŸÇÿØÿ± ÿÆŸäÿ±Ÿá Ÿàÿ¥ÿ±Ÿá) ÿØŸÑŸäŸÑ ÿπŸÑŸâ ÿ£ÿ±ŸÉÿßŸÜ:", opts: ["ÿ£ - ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖ", "ÿ® - ÿßŸÑÿ•ŸäŸÖÿßŸÜ", "ÿ¨ - ÿßŸÑÿ•ÿ≠ÿ≥ÿßŸÜ"], ans: 1 },
            { q: "8- ÿ•ŸÅÿ±ÿßÿØ ÿßŸÑŸÑŸá ÿ™ÿπÿßŸÑŸâ ÿ®ÿßŸÑÿ±ÿ®Ÿàÿ®Ÿäÿ© ŸàÿßŸÑÿ£ŸÑŸàŸáŸäÿ© ŸàŸÖÿßŸÑŸá ŸÖŸÜ ÿßŸÑÿ£ÿ≥ŸÖÿßÿ° ŸàÿßŸÑÿµŸÅÿßÿ™ ŸáŸà ŸÖÿπŸÜŸâ:", opts: ["ÿ£ - ÿßŸÑÿ•ŸäŸÖÿßŸÜ ÿ®ÿßŸÑŸÑŸá", "ÿ® - ÿ•ŸÅÿ±ÿßÿØ ÿßŸÑŸÑŸá ÿ®ÿßŸÑÿ±ÿ®Ÿàÿ®Ÿäÿ©", "ÿ¨ - ÿ•ŸÅÿ±ÿßÿØ ÿßŸÑŸÑŸá ÿ®ÿßŸÑÿ£ŸÑŸàŸáŸäÿ©"], ans: 0 },
            { q: "9- ÿµÿ±ŸÅ ÿ¨ŸÖŸäÿπ ÿ£ŸÜŸàÿßÿπ ÿßŸÑÿπÿ®ÿßÿØÿ© ŸÑŸÑŸá Ÿàÿ≠ÿØŸá ŸÑÿß ÿ¥ÿ±ŸäŸÉ ŸÑŸá ŸáŸà ŸÖÿπŸÜŸâ:", opts: ["ÿ£ - ÿ•ŸÅÿ±ÿßÿØ ÿßŸÑŸÑŸá ÿ®ÿßŸÑÿ±ÿ®Ÿàÿ®Ÿäÿ©", "ÿ® - ÿ•ŸÅÿ±ÿßÿØ ÿßŸÑŸÑŸá ÿ®ÿßŸÑÿ£ŸÑŸàŸáŸäÿ©", "ÿ¨ - ÿ•ŸÅÿ±ÿßÿØ ÿßŸÑŸÑŸá ÿ®ÿßŸÑÿ£ÿ≥ŸÖÿßÿ° ŸàÿßŸÑÿµŸÅÿßÿ™"], ans: 1 },
            { q: "10- ŸÖŸÜ ÿßŸÑÿ£ŸÖÿ´ŸÑÿ© ÿßŸÑÿØÿßŸÑÿ© ÿπŸÑŸâ ÿ•ŸÅÿ±ÿßÿØ ÿßŸÑŸÑŸá ÿ®ÿßŸÑÿ±ÿ®Ÿàÿ®Ÿäÿ©:", opts: ["ÿ£ - ŸÑÿß ÿÆÿßŸÑŸÇ ÿ•ŸÑÿß ÿßŸÑŸÑŸá", "ÿ® - ŸÑÿß ŸÜÿØÿπŸà ÿ•ŸÑÿß ÿßŸÑŸÑŸá", "ÿ¨ - ŸÑÿß ŸÜÿ≥ÿ¨ÿØ ÿ•ŸÑÿß ÿßŸÑŸÑŸá"], ans: 0 },
            { q: "11- ŸÖŸÜ ÿßŸÑÿ£ŸÖÿ´ŸÑÿ© ÿßŸÑÿØÿßŸÑÿ© ÿπŸÑŸâ ÿ•ŸÅÿ±ÿßÿØ ÿßŸÑŸÑŸá ÿ®ÿßŸÑÿ£ŸÑŸàŸáŸäÿ©:", opts: ["ÿ£ - ŸÑÿß ÿÆÿßŸÑŸÇ ÿ•ŸÑÿß ÿßŸÑŸÑŸá", "ÿ® - ŸÑÿß Ÿäÿ≠ŸäŸä ÿßŸÑŸÖŸàÿ™Ÿâ ÿ•ŸÑÿß ÿßŸÑŸÑŸá", "ÿ¨ - ŸÑÿß ŸÜÿØÿπŸà ÿ•ŸÑÿß ÿßŸÑŸÑŸá"], ans: 2 },
            { q: "12- ŸÖŸÜ ÿ£ÿπŸÖÿßŸÑ ÿßŸÑŸÖŸÑÿßÿ¶ŸÉÿ© ÿßŸÑŸÜÿ≤ŸàŸÑ ÿ®ÿßŸÑŸàÿ≠Ÿä ŸàŸáŸà ÿπŸÖŸÑ:", opts: ["ÿ£ - ÿ¨ÿ®ÿ±ŸäŸÑ ÿπŸÑŸäŸá ÿßŸÑÿ≥ŸÑÿßŸÖ", "ÿ® - ÿßŸÑÿ≠ŸÅÿ∏ÿ© ÿπŸÑŸäŸáŸÖ ÿßŸÑÿ≥ŸÑÿßŸÖ", "ÿ¨ - ÿ•ÿ≥ÿ±ÿßŸÅŸäŸÑ ÿπŸÑŸäŸá ÿßŸÑÿ≥ŸÑÿßŸÖ"], ans: 0 },
            { q: "13- ÿßŸÑÿπŸÑŸÖ ŸàÿßŸÑÿ•ŸÇÿ±ÿßÿ± ÿ®ÿ£ŸÜ ÿßŸÑŸÑŸá Ÿàÿ≠ÿØŸá ŸáŸà ÿßŸÑÿÆÿßŸÑŸÇ ÿßŸÑÿ±ÿßÿ≤ŸÇ ÿßŸÑŸÖÿßŸÑŸÉ ÿßŸÑŸÖÿØÿ®ÿ± ŸÑÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿÆŸÑŸàŸÇÿßÿ™ ŸáŸà ŸÖÿπŸÜŸâ:", opts: ["ÿ£ - ÿ•ŸÅÿ±ÿßÿØ ÿßŸÑŸÑŸá ÿ®ÿßŸÑÿ£ŸÑŸàŸáŸäÿ©", "ÿ® - ÿ•ŸÅÿ±ÿßÿØ ÿßŸÑŸÑŸá ÿ®ÿßŸÑÿ£ÿ≥ŸÖÿßÿ° ŸàÿßŸÑÿµŸÅÿßÿ™", "ÿ¨ - ÿ•ŸÅÿ±ÿßÿØ ÿßŸÑŸÑŸá ÿ®ÿßŸÑÿ±ÿ®Ÿàÿ®Ÿäÿ©"], ans: 2 },
            { q: "14- ÿ£ÿπÿ∏ŸÖ ÿ¢Ÿäÿ© ŸÅŸä ÿßŸÑŸÇÿ±ÿ¢ŸÜ:", opts: ["ÿ£ - ÿßŸÑŸÉÿ±ÿ≥Ÿä", "ÿ® - ÿßŸÑŸÅÿßÿ™ÿ≠ÿ©", "ÿ¨ - ÿßŸÑÿ•ÿÆŸÑÿßÿµ"], ans: 0 },
            { q: "15- Ÿàÿ±ÿØÿ™ ÿ¢Ÿäÿ© ÿßŸÑŸÉÿ±ÿ≥Ÿä ŸÅŸä ÿ≥Ÿàÿ±ÿ©:", opts: ["ÿ£ - ÿßŸÑÿµŸÅ", "ÿ® - ÿßŸÑÿ®ŸÇÿ±ÿ©", "ÿ¨ - ÿßŸÑÿ¥ŸÖÿ≥"], ans: 1 },
            { q: "16- ŸÖÿπŸÜŸâ ŸÉŸÑŸÖÿ© (ÿ≥ŸÜÿ©):", opts: ["ÿ£ - ÿ≠ÿ≤ŸÜ", "ÿ® - ŸÜÿπÿßÿ≥", "ÿ¨ - ŸÑÿß Ÿäÿ™ÿ®ÿπŸá ÿ≠ŸÅÿ∏ŸáŸÖÿß"], ans: 1 },
            { q: "17- ŸÖÿπŸÜŸâ ŸÉŸÑŸÖÿ© (ŸàŸÑÿß Ÿäÿ§ŸàÿØŸá ÿ≠ŸÅÿ∏ŸáŸÖÿß):", opts: ["ÿ£ - ŸÑÿß Ÿäÿ™ÿ®ÿπŸá ÿ≠ŸÅÿ∏ŸáŸÖÿß", "ÿ® - ŸÜÿπÿßÿ≥", "ÿ¨ - ÿ≠ÿ≤ŸÜ"], ans: 0 },
            { q: "18- ŸÇÿßŸÑ ÿ™ÿπÿßŸÑŸâ (ŸàŸÇŸÑ ÿ±ÿ® ÿ≤ÿØŸÜŸä ÿπŸÑŸÖÿß) ÿ™ÿØŸÑ ÿßŸÑÿ¢Ÿäÿ© ÿπŸÑŸâ: ", opts: ["ÿ£ - ÿ∑ŸÑÿ® ÿßŸÑÿ±ÿ≠ŸÖÿ©", "ÿ® - ÿ∑ŸÑÿ® ÿßŸÑÿπŸÑŸÖ", "ÿ¨ - ÿ∑ŸÑÿ® ÿßŸÑŸÖÿ∫ŸÅÿ±ÿ©"], ans: 1 },
            { q: "19- ÿ≠ŸÉŸÖ ÿßŸÑÿ•ŸäŸÖÿßŸÜ ÿ®ÿßŸÑŸÉÿ™ÿ®:", opts: ["ÿ£ - Ÿàÿßÿ¨ÿ®", "ÿ® - ÿ≥ŸÜÿ©", "ÿ¨ - ŸÖÿ≥ÿ™ÿ≠ÿ®"], ans: 0 },
            { q: "20- ÿ£ŸÜÿ≤ŸÑ ÿßŸÑŸÑŸá ÿßŸÑŸÇÿ±ÿ¢ŸÜ ÿßŸÑŸÉÿ±ŸäŸÖ ÿπŸÑŸâ:", opts: ["ÿ£ - ŸÖÿ≠ŸÖÿØ ÿµŸÑŸâ ÿßŸÑŸÑŸá ÿπŸÑŸäŸá Ÿàÿ≥ŸÑŸÖ", "ÿ® - ŸÖŸàÿ≥Ÿâ ÿπŸÑŸäŸá ÿßŸÑÿ≥ŸÑÿßŸÖ", "ÿ¨ - ÿπŸäÿ≥Ÿâ ÿπŸÑŸäŸá ÿßŸÑÿ≥ŸÑÿßŸÖ"], ans: 0 }
        ];

        const ENGLISH_DATA = [
            { section: "General Knowledge", q: "1 - What did you do over the weekend?", opts: ["A. I am 10 years.", "B. I cleaned my room."], ans: 1 },
            { section: "General Knowledge", q: "2- How much flour do we need?", opts: ["A. It is 10 SAR.", "B. We need 2 cups"], ans: 1 },
            { section: "General Knowledge", q: "3- can I help you?", opts: ["A. Yes, please", "B. No, I am not."], ans: 0 },
            { section: "Reading", q: "1. He kicked a ball.", type: "reading", img: IMAGES.kickingBall, opts: ["‚úì", "‚úó"], ans: 0 },
            { section: "Reading", q: "2. She watched TV.", type: "reading", img: IMAGES.watchingTV, opts: ["‚úì", "‚úó"], ans: 1 },
            { section: "Writing", q: "1- breakfast - cooked she. (rearrange)", opts: ["A. She cooked breakfast.", "B. breakfast cooked she."], ans: 0 },
            { section: "Writing", q: "2. I'd like ________ please. (choose)", img: IMAGES.soupBowl, opts: ["cheese", "soup", "Ice cream"], ans: 1 },
            { section: "Grammar", q: "1- How ____ oil do you need?", opts: ["much", "many", "some"], ans: 0 },
            { section: "Grammar", q: "2- How ____ tomatoes do you need?", opts: ["much", "many", "some"], ans: 1 },
            { section: "Grammar", q: "3. We have ____ flour.", opts: ["any", "some", "many"], ans: 1 },
            { section: "Grammar", q: "4- We don't have ____ oil.", opts: ["any", "some", "many"], ans: 0 },
            { 
                section: "Vocabulary", type: "vocab", q: "Match words with images (Drag & Drop):",
                words: ["Trampoline", "clean", "French fries", "cheese"],
                items: [
                    { id: 0, word: "cheese", img: IMAGES.cheese },
                    { id: 1, word: "French fries", img: IMAGES.fries },
                    { id: 2, word: "clean", img: IMAGES.clean },
                    { id: 3, word: "Trampoline", img: IMAGES.trampoline }
                ]
            },
            { section: "Orthography", q: "Choose correct letter: Pai __ __", img: IMAGES.paint, opts: ["nd", "nt"], ans: 1 },
            { section: "Orthography", q: "Choose correct letter: Ha __ __", img: IMAGES.hand, opts: ["nd", "nt"], ans: 0 },
            { section: "Orthography", q: "Choose correct letter: Pla __ __", img: IMAGES.plant, opts: ["nd", "nt"], ans: 1 },
            { section: "Orthography", q: "Choose correct letter: Sta __ __", img: IMAGES.stand, opts: ["nd", "nt"], ans: 0 },
            { section: "Orthography", q: "Choose correct letter: Te __ __", img: IMAGES.tent, opts: ["nd", "nt"], ans: 1 }
        ];

        const App = () => {
            const [view, setView] = useState('menu');
            const [activeSubject, setActiveSubject] = useState(null);
            const [currentIdx, setCurrentIdx] = useState(0);
            const [answers, setAnswers] = useState({});
            const [vocabAnswers, setVocabAnswers] = useState({});

            const currentQuestions = activeSubject === 'islamic' ? ISLAMIC_DATA : ENGLISH_DATA;

            const handleStart = (subject) => {
                setActiveSubject(subject);
                setView('quiz');
                setCurrentIdx(0);
                setAnswers({});
                setVocabAnswers({});
            };

            const handleSelect = (i) => {
                if (answers[currentIdx] !== undefined) return;
                setAnswers({ ...answers, [currentIdx]: i });
            };

            const next = () => {
                if (currentIdx < currentQuestions.length - 1) setCurrentIdx(currentIdx + 1);
                else setView('results');
            };

            const prev = () => { if (currentIdx > 0) setCurrentIdx(currentIdx - 1); };

            const getScore = () => {
                let score = 0;
                currentQuestions.forEach((q, i) => {
                    if (q.type === 'vocab') {
                        q.items.forEach(item => { if (vocabAnswers[item.id] === item.word) score++; });
                    } else { if (answers[i] === q.ans) score++; }
                });
                return score;
            };

            const totalPoints = activeSubject === 'islamic' ? ISLAMIC_DATA.length : (ENGLISH_DATA.length - 1 + 4);

            return (
                <div className="flex flex-col items-center w-full min-h-screen p-4 no-select">
                    
                    {/* Header Menu */}
                    {view === 'menu' && (
                        <div className="w-full max-w-md mt-16 px-4">
                            <h1 className="text-3xl font-black text-slate-800 text-center mb-10 tracking-tight">ÿ®Ÿàÿßÿ®ÿ© ÿßŸÑÿ∑ÿßŸÑÿ® ÿßŸÑÿ∞ŸÉŸäÿ©</h1>
                            <div className="space-y-6">
                                <button onClick={() => handleStart('islamic')} className="w-full bg-white p-8 rounded-[2.5rem] shadow-sm border border-slate-200 flex items-center justify-between active-scale transition-all">
                                    <span className="text-xl font-bold">ÿßŸÑÿØÿ±ÿßÿ≥ÿßÿ™ ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖŸäÿ©</span>
                                    <span className="text-4xl">üìñ</span>
                                </button>
                                <button onClick={() => handleStart('english')} className="w-full bg-white p-8 rounded-[2.5rem] shadow-sm border border-slate-200 flex items-center justify-between active-scale transition-all">
                                    <span className="text-xl font-bold">English - We Can 3</span>
                                    <span className="text-4xl">üåç</span>
                                </button>
                            </div>
                        </div>
                    )}

                    {view === 'quiz' && (
                        <div className="w-full max-w-lg mt-2">
                            <div className="bg-white rounded-[50px] shadow-2xl overflow-hidden border border-slate-100">
                                {/* Header Card (Green) */}
                                <div className={`${activeSubject === 'islamic' ? 'bg-[#10b981]' : 'bg-indigo-600'} p-7 flex items-center justify-between text-white`}>
                                    <div className="bg-black/20 px-4 py-1.5 rounded-full text-[12px] font-black">
                                        {currentIdx + 1} / {currentQuestions.length}
                                    </div>
                                    <div className="flex-1 mx-6 h-2 bg-white/30 rounded-full overflow-hidden">
                                        <div className="h-full bg-white transition-all duration-500" style={{ width: `${((currentIdx + 1) / currentQuestions.length) * 100}%` }}></div>
                                    </div>
                                    <span className="text-sm font-black tracking-widest">{activeSubject === 'islamic' ? 'ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±' : 'ASSESSMENT'}</span>
                                </div>

                                <div className="p-8 sm:p-12">
                                    {currentQuestions[currentIdx].type === 'vocab' ? (
                                        <div className="flex flex-col items-center" dir="ltr">
                                            <h2 className="text-xl font-black text-slate-800 mb-8" dir="rtl">ÿßÿ≥ÿ≠ÿ® ÿßŸÑŸÉŸÑŸÖÿ© ŸÑŸÑÿµŸàÿ±ÿ© ÿßŸÑŸÖŸÜÿßÿ≥ÿ®ÿ©:</h2>
                                            <div className="flex flex-wrap justify-center gap-3 mb-10">
                                                {currentQuestions[currentIdx].words.map(w => !Object.values(vocabAnswers).includes(w) && (
                                                    <div key={w} draggable onDragStart={(e) => e.dataTransfer.setData("word", w)} className="px-5 py-2.5 bg-indigo-50 border border-indigo-200 text-indigo-700 font-bold rounded-2xl cursor-grab shadow-sm">{w}</div>
                                                ))}
                                            </div>
                                            <div className="grid grid-cols-2 gap-6 w-full">
                                                {currentQuestions[currentIdx].items.map(item => (
                                                    <div key={item.id} onDragOver={e => e.preventDefault()} onDrop={e => {
                                                        const word = e.dataTransfer.getData("word");
                                                        setVocabAnswers({...vocabAnswers, [item.id]: word});
                                                    }} className="flex flex-col items-center gap-3">
                                                        <div className="bg-slate-50 p-3 rounded-3xl border border-slate-100 h-28 w-full flex items-center justify-center overflow-hidden shadow-inner">
                                                            <img src={item.img} className="max-h-full object-contain" />
                                                        </div>
                                                        <div className={`h-12 w-full rounded-2xl border-2 border-dashed flex items-center justify-center text-sm font-black ${vocabAnswers[item.id] ? 'bg-indigo-50 border-indigo-500 text-indigo-700 border-solid' : 'border-slate-200 text-slate-300'}`}>
                                                            {vocabAnswers[item.id] || "Drop Here"}
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                    ) : (
                                        <div className={activeSubject === 'english' ? 'text-left ltr' : 'text-right rtl'}>
                                            <h2 className="text-2xl sm:text-3xl font-black text-slate-800 mb-10 leading-snug">
                                                {currentQuestions[currentIdx].q}
                                            </h2>
                                            
                                            {currentQuestions[currentIdx].img && (
                                                <div className="flex justify-center mb-10 bg-slate-50/50 p-6 rounded-[2.5rem] border border-slate-50 shadow-inner">
                                                    <img src={currentQuestions[currentIdx].img} className="max-h-48 rounded-3xl object-contain" />
                                                </div>
                                            )}

                                            <div className="space-y-4">
                                                {currentQuestions[currentIdx].opts.map((opt, i) => {
                                                    const hasAns = answers[currentIdx] !== undefined;
                                                    const isCorrect = i === currentQuestions[currentIdx].ans;
                                                    const isSelected = answers[currentIdx] === i;
                                                    
                                                    let cls = "option-btn w-full p-6 text-xl font-bold border-2 flex items-center justify-between active-scale ";
                                                    if (hasAns) {
                                                        if (isCorrect) cls += "border-green-500 bg-green-50 text-green-700 shadow-md";
                                                        else if (isSelected) cls += "border-red-500 bg-red-50 text-red-700";
                                                        else cls += "border-slate-50 opacity-30 grayscale";
                                                    } else {
                                                        cls += "border-slate-100 text-slate-600 bg-white hover:border-slate-300";
                                                    }

                                                    return (
                                                        <button key={i} disabled={hasAns} onClick={() => handleSelect(i)} className={cls}>
                                                            <span>{opt}</span>
                                                            {hasAns && isCorrect && <span>‚úÖ</span>}
                                                        </button>
                                                    );
                                                })}
                                            </div>
                                        </div>
                                    )}

                                    {/* Navigation: Back Left, Next Right (Fixed LTR Container) */}
                                    <div className="mt-14 flex items-center gap-5 ltr">
                                        <button 
                                            onClick={prev} 
                                            disabled={currentIdx === 0} 
                                            className="nav-btn-prev flex-1 py-6 font-black text-center text-xl disabled:opacity-30 active-scale"
                                        >
                                            {activeSubject === 'english' ? 'Back' : 'ÿßŸÑÿ≥ÿßÿ®ŸÇ'}
                                        </button>
                                        <button 
                                            onClick={next} 
                                            className="nav-btn-next flex-[2.5] py-6 text-white font-black text-2xl shadow-xl active-scale"
                                        >
                                            {currentIdx === currentQuestions.length - 1 ? (activeSubject === 'english' ? 'Finish' : 'ÿ•ŸÜŸáÿßÿ°') : (activeSubject === 'english' ? 'Next' : 'ÿßŸÑÿ™ÿßŸÑŸä')}
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                    {view === 'results' && (
                        <div className="w-full max-w-lg mt-10 p-12 bg-white rounded-[4rem] shadow-2xl text-center border-b-[16px] border-emerald-500">
                            <div className="text-8xl mb-8 animate-bounce">üèÜ</div>
                            <h2 className="text-4xl font-black text-slate-800 mb-2">
                                {activeSubject === 'english' ? 'Assessment Done!' : 'ÿ™ŸÖ ÿßŸÑÿßŸÜÿ™Ÿáÿßÿ° ÿ®ŸÜÿ¨ÿßÿ≠!'}
                            </h2>
                            <p className="text-slate-400 font-bold mb-10">ÿ®ÿßÿ±ŸÉ ÿßŸÑŸÑŸá ŸÅŸäŸÉ Ÿäÿß ÿ®ÿ∑ŸÑ.</p>
                            
                            <div className="bg-slate-50 p-12 rounded-[3rem] my-10 border border-slate-100 shadow-inner">
                                <div className="text-7xl font-black text-emerald-600 mb-3 tracking-tighter">
                                    %{Math.round((getScore() / totalPoints) * 100)}
                                </div>
                                <div className="text-slate-500 font-black text-2xl uppercase tracking-widest">
                                    {getScore()} / {totalPoints}
                                </div>
                            </div>

                            <div className="flex flex-col gap-4">
                                <button onClick={() => setView('menu')} className="w-full py-6 bg-slate-100 text-slate-600 font-black rounded-3xl border-2 border-slate-200 text-xl active-scale">
                                    ÿßŸÑÿπŸàÿØÿ© ŸÑŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©
                                </button>
                                <button onClick={() => handleStart(activeSubject)} className="w-full py-6 bg-indigo-600 text-white font-black rounded-3xl shadow-lg text-xl active-scale">
                                    ÿ•ÿπÿßÿØÿ© ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±
                                </button>
                            </div>
                        </div>
                    )}

                    <footer className="mt-auto py-10 opacity-30 text-[10px] font-black uppercase tracking-[0.3em] text-slate-400">
                        Interactive Student Portal 1446
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

