<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- ÙˆØ³Ù… Ù„Ø¬Ø¹Ù„ Ø§Ù„ØµÙØ­Ø© ØªØ¸Ù‡Ø± ÙƒÙ€ Full Screen Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø·Ø§Ù„Ø¨">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#4f46e5">

    <title>Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„Ø°ÙƒÙŠØ© - 1446</title>
    
    <!-- Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù„Ø§Ø²Ù…Ø© -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
        body { 
            font-family: 'Tajawal', sans-serif; 
            overscroll-behavior-y: contain; /* Ù…Ù†Ø¹ Ø§Ù„Ø³Ø­Ø¨ Ù„Ø£Ø³ÙÙ„ Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø© ÙÙŠ Ø§Ù„Ø¬ÙˆØ§Ù„ */
        }
        .drag-item:active { cursor: grabbing; }
        .no-select { user-select: none; -webkit-user-select: none; }
    </style>
</head>
<body class="bg-slate-50 min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØµÙˆØ± Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ø§Ù„ØªÙŠ Ø£Ø±Ø³Ù„ØªÙ‡Ø§ ---
        const IMAGES = {
            kickingBall: "https://j.top4top.io/p_3699f6l8q0.jpeg", 
            watchingTV: "https://g.top4top.io/p_3699ay7by0.jpeg",
            soupBowl: "https://l.top4top.io/p_3699x0n0i0.jpeg", 
            cheese: "https://up6.cc/2026/02/177124770938951.jpeg",
            fries: "https://up6.cc/2026/02/177124770941072.jpeg",
            clean: "https://up6.cc/2026/02/177124770943813.jpeg",
            trampoline: "https://up6.cc/2026/02/177124770945284.jpeg",
            paint: "https://up6.cc/2026/02/17712482217751.jpeg",
            hand: "https://up6.cc/2026/02/177124822183682.jpeg",
            plant: "https://up6.cc/2026/02/177124822187173.jpeg",
            stand: "https://up6.cc/2026/02/17712482218954.jpeg",
            tent: "https://up6.cc/2026/02/177124822191445.jpeg"
        };

        const ISLAMIC_DATA = [
            { q: "1- Ø¹Ø¯Ø¯ Ø£Ø±ÙƒØ§Ù† Ø§Ù„Ø¥ÙŠÙ…Ø§Ù†:", opts: ["Ø£ - Ø³ØªØ©", "Ø¨ - Ø«Ù„Ø§Ø«Ø©", "Ø¬ - Ø®Ù…Ø³Ø©"], ans: 0 },
            { q: "2- Ø§Ù„Ø¥ÙŠÙ…Ø§Ù† Ø¨Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… Ù…Ù† Ø§Ù„Ø¥ÙŠÙ…Ø§Ù† Ø¨Ù€:", opts: ["Ø£ - Ø§Ù„Ù…Ù„Ø§Ø¦ÙƒØ©", "Ø¨ - Ø§Ù„ÙƒØªØ¨", "Ø¬ - Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø¢Ø®Ø±"], ans: 1 },
            { q: "3- Ø§Ù„Ù…Ù„Ø§Ø¦ÙƒØ© Ù…Ø®Ù„ÙˆÙ‚Ø§Øª Ø¹Ø¸ÙŠÙ…Ø© Ø®Ù„Ù‚Ù‡Ø§ Ø§Ù„Ù„Ù‡ Ù…Ù†:", opts: ["Ø£ - Ù†ÙˆØ±", "Ø¨ - Ø·ÙŠÙ†", "Ø¬ - Ù†Ø§Ø±"], ans: 0 },
            { q: "4- Ø§Ù„Ù…Ù„Ø§Ø¦ÙƒØ© Ø§Ù„Ù…ÙˆÙƒÙ„Ø© Ø¨ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ù‡ÙŠ:", opts: ["Ø£ - Ø§Ù„Ø­ÙØ¸Ø© Ø¹Ù„ÙŠÙ‡Ù… Ø§Ù„Ø³Ù„Ø§Ù…", "Ø¨ - Ø¬Ø¨Ø±ÙŠÙ„ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù…", "Ø¬ - Ø¥Ø³Ø±Ø§ÙÙŠÙ„ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù…"], ans: 0 },
            { q: "5- Ø§Ù„Ø¥ÙŠÙ…Ø§Ù† Ø¨Ø§Ù„Ø¬Ù†Ø© ÙˆØ§Ù„Ù†Ø§Ø± Ù…Ù† Ø§Ù„Ø¥ÙŠÙ…Ø§Ù† Ø¨Ù€:", opts: ["Ø£ - Ø§Ù„Ø±Ø³Ù„", "Ø¨ - Ø§Ù„ÙƒØªØ¨", "Ø¬ - Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø¢Ø®Ø±"], ans: 2 },
            { q: "6- Ø­ÙƒÙ… Ø§Ù„Ø¥ÙŠÙ…Ø§Ù† Ø¨Ø§Ù„Ù…Ù„Ø§Ø¦ÙƒØ©:", opts: ["Ø£ - ÙˆØ§Ø¬Ø¨", "Ø¨ - Ø³Ù†Ø©", "Ø¬ - Ù…Ø³ØªØ­Ø¨"], ans: 0 },
            { q: "7- Ù‚Ø§Ù„ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ï·º: (Ø£Ù† ØªØ¤Ù…Ù† Ø¨Ø§Ù„Ù„Ù‡ ÙˆÙ…Ù„Ø§Ø¦ÙƒØªÙ‡ ÙˆÙƒØªØ¨Ù‡ ÙˆØ±Ø³Ù„Ù‡ ÙˆØ§Ù„ÙŠÙˆÙ… Ø§Ù„Ø¢Ø®Ø± ÙˆØªØ¤Ù…Ù† Ø¨Ø§Ù„Ù‚Ø¯Ø± Ø®ÙŠØ±Ù‡ ÙˆØ´Ø±Ù‡) Ø¯Ù„ÙŠÙ„ Ø¹Ù„Ù‰ Ø£Ø±ÙƒØ§Ù†:", opts: ["Ø£ - Ø§Ù„Ø¥Ø³Ù„Ø§Ù…", "Ø¨ - Ø§Ù„Ø¥ÙŠÙ…Ø§Ù†", "Ø¬ - Ø§Ù„Ø¥Ø­Ø³Ø§Ù†"], ans: 1 },
            { q: "8- Ø¥ÙØ±Ø§Ø¯ Ø§Ù„Ù„Ù‡ ØªØ¹Ø§Ù„Ù‰ Ø¨Ø§Ù„Ø±Ø¨ÙˆØ¨ÙŠØ© ÙˆØ§Ù„Ø£Ù„ÙˆÙ‡ÙŠØ© ÙˆÙ…Ø§Ù„Ù‡ Ù…Ù† Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ ÙˆØ§Ù„ØµÙØ§Øª Ù‡Ùˆ Ù…Ø¹Ù†Ù‰:", opts: ["Ø£ - Ø§Ù„Ø¥ÙŠÙ…Ø§Ù† Ø¨Ø§Ù„Ù„Ù‡", "Ø¨ - Ø¥ÙØ±Ø§Ø¯ Ø§Ù„Ù„Ù‡ Ø¨Ø§Ù„Ø±Ø¨ÙˆØ¨ÙŠØ©", "Ø¬ - Ø¥ÙØ±Ø§Ø¯ Ø§Ù„Ù„Ù‡ Ø¨Ø§Ù„Ø£Ù„ÙˆÙ‡ÙŠØ©"], ans: 0 },
            { q: "9- ØµØ±Ù Ø¬Ù…ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¹Ø¨Ø§Ø¯Ø© Ù„Ù„Ù‡ ÙˆØ­Ø¯Ù‡ Ù„Ø§ Ø´Ø±ÙŠÙƒ Ù„Ù‡ Ù‡Ùˆ Ù…Ø¹Ù†Ù‰:", opts: ["Ø£ - Ø¥ÙØ±Ø§Ø¯ Ø§Ù„Ù„Ù‡ Ø¨Ø§Ù„Ø±Ø¨ÙˆØ¨ÙŠØ©", "Ø¨ - Ø¥ÙØ±Ø§Ø¯ Ø§Ù„Ù„Ù‡ Ø¨Ø§Ù„Ø£Ù„ÙˆÙ‡ÙŠØ©", "Ø¬ - Ø¥ÙØ±Ø§Ø¯ Ø§Ù„Ù„Ù‡ Ø¨Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ ÙˆØ§Ù„ØµÙØ§Øª"], ans: 1 },
            { q: "10- Ù…Ù† Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø¯Ø§Ù„Ø© Ø¹Ù„Ù‰ Ø¥ÙØ±Ø§Ø¯ Ø§Ù„Ù„Ù‡ Ø¨Ø§Ù„Ø±Ø¨ÙˆØ¨ÙŠØ©:", opts: ["Ø£ - Ù„Ø§ Ø®Ø§Ù„Ù‚ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡", "Ø¨ - Ù„Ø§ Ù†Ø¯Ø¹Ùˆ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡", "Ø¬ - Ù„Ø§ Ù†Ø³Ø¬Ø¯ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡"], ans: 0 },
            { q: "11- Ù…Ù† Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø¯Ø§Ù„Ø© Ø¹Ù„Ù‰ Ø¥ÙØ±Ø§Ø¯ Ø§Ù„Ù„Ù‡ Ø¨Ø§Ù„Ø£Ù„ÙˆÙ‡ÙŠØ©:", opts: ["Ø£ - Ù„Ø§ Ø®Ø§Ù„Ù‚ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡", "Ø¨ - Ù„Ø§ ÙŠØ­ÙŠÙŠ Ø§Ù„Ù…ÙˆØªÙ‰ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡", "Ø¬ - Ù„Ø§ Ù†Ø¯Ø¹Ùˆ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡"], ans: 2 },
            { q: "12- Ù…Ù† Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ù…Ù„Ø§Ø¦ÙƒØ© Ø§Ù„Ù†Ø²ÙˆÙ„ Ø¨Ø§Ù„ÙˆØ­ÙŠ ÙˆÙ‡Ùˆ Ø¹Ù…Ù„:", opts: ["Ø£ - Ø¬Ø¨Ø±ÙŠÙ„ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù…", "Ø¨ - Ø§Ù„Ø­ÙØ¸Ø© Ø¹Ù„ÙŠÙ‡Ù… Ø§Ù„Ø³Ù„Ø§Ù…", "Ø¬ - Ø¥Ø³Ø±Ø§ÙÙŠÙ„ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù…"], ans: 0 },
            { q: "13- Ø§Ù„Ø¹Ù„Ù… ÙˆØ§Ù„Ø¥Ù‚Ø±Ø§Ø± Ø¨Ø£Ù† Ø§Ù„Ù„Ù‡ ÙˆØ­Ø¯Ù‡ Ù‡Ùˆ Ø§Ù„Ø®Ø§Ù„Ù‚ Ø§Ù„Ø±Ø§Ø²Ù‚ Ø§Ù„Ù…Ø§Ù„Ùƒ Ø§Ù„Ù…Ø¯Ø¨Ø± Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø®Ù„ÙˆÙ‚Ø§Øª Ù‡Ùˆ Ù…Ø¹Ù†Ù‰:", opts: ["Ø£ - Ø¥ÙØ±Ø§Ø¯ Ø§Ù„Ù„Ù‡ Ø¨Ø§Ù„Ø£Ù„ÙˆÙ‡ÙŠØ©", "Ø¨ - Ø¥ÙØ±Ø§Ø¯ Ø§Ù„Ù„Ù‡ Ø¨Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ ÙˆØ§Ù„ØµÙØ§Øª", "Ø¬ - Ø¥ÙØ±Ø§Ø¯ Ø§Ù„Ù„Ù‡ Ø¨Ø§Ù„Ø±Ø¨ÙˆØ¨ÙŠØ©"], ans: 2 },
            { q: "14- Ø£Ø¹Ø¸Ù… Ø¢ÙŠØ© ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù†:", opts: ["Ø£ - Ø§Ù„ÙƒØ±Ø³ÙŠ", "Ø¨ - Ø§Ù„ÙØ§ØªØ­Ø©", "Ø¬ - Ø§Ù„Ø¥Ø®Ù„Ø§Øµ"], ans: 0 },
            { q: "15- ÙˆØ±Ø¯Øª Ø¢ÙŠØ© Ø§Ù„ÙƒØ±Ø³ÙŠ ÙÙŠ Ø³ÙˆØ±Ø©:", opts: ["Ø£ - Ø§Ù„ØµÙ", "Ø¨ - Ø§Ù„Ø¨Ù‚Ø±Ø©", "Ø¬ - Ø§Ù„Ø´Ù…Ø³"], ans: 1 },
            { q: "16- Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© (Ø³Ù†Ø©):", opts: ["Ø£ - Ø­Ø²Ù†", "Ø¨ - Ù†Ø¹Ø§Ø³", "Ø¬ - Ù„Ø§ ÙŠØªØ¨Ø¹Ù‡ Ø­ÙØ¸Ù‡Ù…Ø§"], ans: 1 },
            { q: "17- Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© (ÙˆÙ„Ø§ ÙŠØ¤ÙˆØ¯Ù‡ Ø­ÙØ¸Ù‡Ù…Ø§):", opts: ["Ø£ - Ù„Ø§ ÙŠØªØ¨Ø¹Ù‡ Ø­ÙØ¸Ù‡Ù…Ø§", "Ø¨ - Ù†Ø¹Ø§Ø³", "Ø¬ - Ø­Ø²Ù†"], ans: 0 },
            { q: "18- Ù‚Ø§Ù„ ØªØ¹Ø§Ù„Ù‰ (ÙˆÙ‚Ù„ Ø±Ø¨ Ø²Ø¯Ù†ÙŠ Ø¹Ù„Ù…Ø§) ØªØ¯Ù„ Ø§Ù„Ø¢ÙŠØ© Ø¹Ù„Ù‰: ", opts: ["Ø£ - Ø·Ù„Ø¨ Ø§Ù„Ø±Ø­Ù…Ø©", "Ø¨ - Ø·Ù„Ø¨ Ø§Ù„Ø¹Ù„Ù…", "Ø¬ - Ø·Ù„Ø¨ Ø§Ù„Ù…ØºÙØ±Ø©"], ans: 1 },
            { q: "19- Ø­ÙƒÙ… Ø§Ù„Ø¥ÙŠÙ…Ø§Ù† Ø¨Ø§Ù„ÙƒØªØ¨:", opts: ["Ø£ - ÙˆØ§Ø¬Ø¨", "Ø¨ - Ø³Ù†Ø©", "Ø¬ - Ù…Ø³ØªØ­Ø¨"], ans: 0 },
            { q: "20- Ø£Ù†Ø²Ù„ Ø§Ù„Ù„Ù‡ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… Ø¹Ù„Ù‰:", opts: ["Ø£ - Ù…Ø­Ù…Ø¯ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…", "Ø¨ - Ù…ÙˆØ³Ù‰ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù…", "Ø¬ - Ø¹ÙŠØ³Ù‰ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù…"], ans: 0 }
        ];

        const ENGLISH_DATA = [
            { section: "General Knowledge", q: "1 - What did you do over the weekend?", opts: ["A. I am 10 years.", "B. I cleaned my room."], ans: 1 },
            { section: "General Knowledge", q: "2- How much flour do we need?", opts: ["A. It is 10 SAR.", "B. We need 2 cups"], ans: 1 },
            { section: "General Knowledge", q: "3- can I help you?", opts: ["A. Yes, please", "B. No, I am not."], ans: 0 },
            { section: "Reading", q: "1. He kicked a ball.", type: "reading", img: IMAGES.kickingBall, opts: ["âœ“", "âœ—"], ans: 0 },
            { section: "Reading", q: "2. She watched TV.", type: "reading", img: IMAGES.watchingTV, opts: ["âœ“", "âœ—"], ans: 1 },
            { section: "Writing", q: "1- breakfast - cooked she. (rearrange)", opts: ["A. She cooked breakfast.", "B. breakfast cooked she."], ans: 0 },
            { section: "Writing", q: "2. I'd like ________ please. (choose)", img: IMAGES.soupBowl, opts: ["cheese", "soup", "Ice cream"], ans: 1 },
            { section: "Grammar", q: "1- How ____ oil do you need?", opts: ["much", "many", "some"], ans: 0 },
            { section: "Grammar", q: "2- How ____ tomatoes do you need?", opts: ["much", "many", "some"], ans: 1 },
            { section: "Grammar", q: "3. We have ____ flour.", opts: ["any", "some", "many"], ans: 1 },
            { section: "Grammar", q: "4- We don't have ____ oil.", opts: ["any", "some", "many"], ans: 0 },
            { 
                section: "Vocabulary", type: "vocab", q: "Match words with images (Drag & Drop):",
                words: ["Trampoline", "clean", "French fries", "cheese"],
                items: [
                    { id: 0, word: "cheese", img: IMAGES.cheese },
                    { id: 1, word: "French fries", img: IMAGES.fries },
                    { id: 2, word: "clean", img: IMAGES.clean },
                    { id: 3, word: "Trampoline", img: IMAGES.trampoline }
                ]
            },
            { section: "Orthography", q: "Choose correct letter: Pai __ __", img: IMAGES.paint, opts: ["nd", "nt"], ans: 1 },
            { section: "Orthography", q: "Choose correct letter: Ha __ __", img: IMAGES.hand, opts: ["nd", "nt"], ans: 0 },
            { section: "Orthography", q: "Choose correct letter: Pla __ __", img: IMAGES.plant, opts: ["nd", "nt"], ans: 1 },
            { section: "Orthography", q: "Choose correct letter: Sta __ __", img: IMAGES.stand, opts: ["nd", "nt"], ans: 0 },
            { section: "Orthography", q: "Choose correct letter: Te __ __", img: IMAGES.tent, opts: ["nd", "nt"], ans: 1 }
        ];

        const App = () => {
            const [view, setView] = useState('menu');
            const [activeSubject, setActiveSubject] = useState(null);
            const [currentIdx, setCurrentIdx] = useState(0);
            const [answers, setAnswers] = useState({});
            const [vocabAnswers, setVocabAnswers] = useState({});
            const [showFeedback, setShowFeedback] = useState(false);

            const currentQuestions = activeSubject === 'islamic' ? ISLAMIC_DATA : ENGLISH_DATA;

            const handleStart = (subject) => {
                setActiveSubject(subject);
                setView('quiz');
                setCurrentIdx(0);
                setAnswers({});
                setVocabAnswers({});
                setShowFeedback(false);
            };

            const handleSelect = (i) => {
                if (showFeedback) return;
                setAnswers({ ...answers, [currentIdx]: i });
                setShowFeedback(true);
            };

            const onDragStart = (e, word) => { e.dataTransfer.setData("word", word); };
            const onDrop = (e, id) => {
                e.preventDefault();
                const word = e.dataTransfer.getData("word");
                const newVocab = { ...vocabAnswers, [id]: word };
                setVocabAnswers(newVocab);
                if (Object.keys(newVocab).length === 4) setShowFeedback(true);
            };

            const next = () => {
                if (currentIdx < currentQuestions.length - 1) {
                    setCurrentIdx(currentIdx + 1);
                    const q = currentQuestions[currentIdx + 1];
                    setShowFeedback(q.type === 'vocab' ? Object.keys(vocabAnswers).length === 4 : answers[currentIdx + 1] !== undefined);
                } else { setView('results'); }
            };

            const prev = () => { if (currentIdx > 0) { setCurrentIdx(currentIdx - 1); setShowFeedback(true); } };

            const getScore = () => {
                let score = 0;
                currentQuestions.forEach((q, i) => {
                    if (q.type === 'vocab') {
                        q.items.forEach(item => { if (vocabAnswers[item.id] === item.word) score++; });
                    } else { if (answers[i] === q.ans) score++; }
                });
                return score;
            };

            const totalPoints = activeSubject === 'islamic' ? 20 : (ENGLISH_DATA.length - 1 + 4);

            return (
                <div className="flex flex-col items-center w-full min-h-screen p-4 sm:p-8 no-select" dir="rtl">
                    
                    {/* Header */}
                    <header className="w-full max-w-3xl flex items-center justify-between mb-8 bg-white p-6 rounded-[2.5rem] shadow-sm border border-slate-200">
                        <div className="flex items-center gap-4">
                            <div className="bg-indigo-600 p-2 rounded-2xl text-2xl">ğŸ“</div>
                            <div>
                                <h1 className="text-2xl font-black text-slate-800 tracking-tight">Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„Ø°ÙƒÙŠØ©</h1>
                                <p className="text-[10px] text-slate-400 font-bold uppercase tracking-widest leading-none mt-1">Interactive System 1446</p>
                            </div>
                        </div>
                        {view !== 'menu' && (
                            <button onClick={() => setView('menu')} className="bg-slate-50 text-slate-500 px-5 py-2 rounded-2xl font-bold border border-slate-200 shadow-sm transition-all hover:bg-slate-100">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</button>
                        )}
                    </header>

                    <main className="w-full max-w-3xl animate-fade-in">
                        {view === 'menu' && (
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <button onClick={() => handleStart('islamic')} className="group bg-white p-12 rounded-[4rem] shadow-sm border-2 border-transparent hover:border-emerald-500 transition-all flex flex-col items-center text-center">
                                    <div className="text-7xl mb-6 group-hover:scale-110 transition-transform">ğŸ“–</div>
                                    <h3 className="text-2xl font-black text-slate-800">Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©</h3>
                                    <p className="text-slate-400 font-medium mt-2">Ù…Ø±Ø§Ø¬Ø¹Ø© Ø£Ø±ÙƒØ§Ù† Ø§Ù„Ø¥ÙŠÙ…Ø§Ù†</p>
                                </button>
                                <button onClick={() => handleStart('english')} className="group bg-white p-12 rounded-[4rem] shadow-sm border-2 border-transparent hover:border-indigo-500 transition-all flex flex-col items-center text-center">
                                    <div className="text-7xl mb-6 group-hover:scale-110 transition-transform">ğŸŒ</div>
                                    <h3 className="text-2xl font-black text-slate-800">English - We Can 3</h3>
                                    <p className="text-slate-400 font-medium mt-2">Unit 1 Assessment</p>
                                </button>
                            </div>
                        )}

                        {view === 'quiz' && (
                            <div className="bg-white rounded-[4rem] shadow-2xl border border-slate-200 overflow-hidden">
                                <div className={`p-4 ${activeSubject === 'english' ? 'bg-indigo-600' : 'bg-emerald-600'} flex items-center justify-between text-white font-black shadow-inner`}>
                                    <span className="text-xs uppercase tracking-widest px-4">{currentQuestions[currentIdx].section || 'Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±'}</span>
                                    <div className="flex-1 max-w-[30%] h-1.5 bg-white/20 rounded-full mx-4 overflow-hidden border border-white/5">
                                        <div className="h-full bg-white transition-all duration-700 ease-out" style={{ width: `${((currentIdx + 1) / currentQuestions.length) * 100}%` }}></div>
                                    </div>
                                    <span className="text-[10px] bg-black/10 px-4 py-1.5 rounded-full">{currentIdx + 1} / {currentQuestions.length}</span>
                                </div>

                                <div className="p-8 sm:p-14">
                                    {currentQuestions[currentIdx].type === 'vocab' ? (
                                        <div className="flex flex-col items-center" dir="ltr">
                                            <h2 className="text-2xl font-black text-slate-800 mb-8 text-center" dir="rtl">Ø§Ø³Ø­Ø¨ Ø§Ù„ÙƒÙ„Ù…Ø© Ù„Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©:</h2>
                                            
                                            {/* Word Options */}
                                            <div className="flex flex-wrap justify-center gap-3 mb-12 bg-slate-50 p-8 rounded-[2.5rem] border-2 border-dashed border-indigo-100 w-full shadow-inner">
                                                {currentQuestions[currentIdx].words.map(w => !Object.values(vocabAnswers).includes(w) && (
                                                    <div key={w} draggable onDragStart={(e) => onDragStart(e, w)} className="px-6 py-3 bg-white border-2 border-indigo-200 text-indigo-700 font-black rounded-2xl cursor-grab shadow-md transition-all active:scale-95">{w}</div>
                                                ))}
                                            </div>

                                            {/* Drag Grid */}
                                            <div className="grid grid-cols-2 gap-8 w-full max-w-xl items-center">
                                                {currentQuestions[currentIdx].items.map(item => (
                                                    <React.Fragment key={item.id}>
                                                        <div className="flex justify-center bg-white p-5 rounded-[2.5rem] shadow-sm border border-slate-100 h-40 items-center overflow-hidden">
                                                            <img src={item.img} className="max-h-full object-contain" />
                                                        </div>
                                                        <div onDragOver={e => e.preventDefault()} onDrop={e => onDrop(e, item.id)} className={`h-24 border-2 border-dashed rounded-[1.5rem] flex items-center justify-center font-black text-xl transition-all ${vocabAnswers[item.id] ? 'bg-indigo-50 border-indigo-500 text-indigo-700 border-solid shadow-md' : 'bg-slate-50 border-slate-200 text-slate-300'}`}>
                                                            {vocabAnswers[item.id] || "Drop Here"}
                                                        </div>
                                                    </React.Fragment>
                                                ))}
                                            </div>
                                        </div>
                                    ) : (
                                        <div className={activeSubject === 'english' ? 'text-left' : 'text-right'}>
                                            {currentQuestions[currentIdx].img && (
                                                <div className="flex justify-center mb-10 bg-slate-50/50 p-10 rounded-[3.5rem] border border-slate-100 overflow-hidden shadow-inner">
                                                    <img src={currentQuestions[currentIdx].img} className="max-h-60 object-contain rounded-2xl transition-transform duration-500" />
                                                </div>
                                            )}
                                            <h2 className={`text-2xl sm:text-4xl font-black text-slate-800 mb-12 leading-tight ${activeSubject === 'english' ? 'ltr' : 'rtl font-serif'}`} dir={activeSubject === 'english' ? 'ltr' : 'rtl'}>
                                                {currentQuestions[currentIdx].q}
                                            </h2>
                                            <div className="space-y-4">
                                                {currentQuestions[currentIdx].opts.map((opt, i) => {
                                                    const isCorrect = i === currentQuestions[currentIdx].ans;
                                                    const isSelected = answers[currentIdx] === i;
                                                    let btn = "w-full p-6 rounded-3xl border-2 font-bold text-xl flex items-center justify-between transition-all ";
                                                    btn += activeSubject === 'islamic' ? "flex-row-reverse text-right " : "flex-row text-left ";
                                                    
                                                    if (showFeedback) {
                                                        if (isCorrect) btn += "border-green-500 bg-green-50 text-green-700 shadow-md";
                                                        else if (isSelected) btn += "border-red-500 bg-red-50 text-red-700 shadow-md";
                                                        else btn += "border-slate-50 text-slate-300 opacity-40 grayscale";
                                                    } else { btn += "border-slate-100 bg-white hover:border-indigo-500 hover:bg-blue-50/50 text-slate-600 shadow-sm"; }
                                                    
                                                    return (<button key={i} disabled={showFeedback} onClick={() => handleSelect(i)} className={btn} dir={activeSubject === 'english' ? 'ltr' : 'rtl'}><span>{opt}</span>{showFeedback && isCorrect && <span>âœ…</span>}</button>);
                                                })}
                                            </div>
                                        </div>
                                    )}
                                    
                                    {/* Navigation */}
                                    <div className="mt-16 flex gap-6 flex-row">
                                        <button onClick={next} disabled={!showFeedback} className={`flex-[2.5] py-6 px-10 rounded-3xl text-white font-black text-2xl shadow-xl flex items-center justify-center gap-4 transition-all ${!showFeedback ? 'bg-slate-300' : 'bg-slate-800 hover:scale-[1.02] active:scale-[0.98]'}`}>
                                            {currentIdx === currentQuestions.length - 1 ? 'Ø¥Ù†Ù‡Ø§Ø¡' : 'Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ'}
                                        </button>
                                        <button onClick={prev} disabled={currentIdx === 0} className="flex-1 py-6 px-6 rounded-3xl font-black bg-slate-50 text-slate-600 border border-slate-200 disabled:opacity-20 transition-all shadow-sm">Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
                                    </div>
                                </div>
                            </div>
                        )}

                        {view === 'results' && (
                            <div className="bg-white rounded-[4rem] shadow-2xl p-16 text-center border-b-[16px] border-indigo-600">
                                <div className="text-9xl mb-8 animate-bounce">ğŸ†</div>
                                <h2 className="text-5xl font-black text-slate-800 mb-4 tracking-tighter">Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙƒ!</h2>
                                <p className="text-slate-400 font-bold mb-12 text-lg">Ù„Ù‚Ø¯ Ø£ØªÙ…Ù…Øª Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù…Ø§Ø¯Ø© Ø¨Ù†Ø¬Ø§Ø­.</p>
                                <div className="bg-slate-50 rounded-[4rem] p-16 mb-12 border border-slate-100 shadow-inner">
                                    <div className="text-9xl font-black text-indigo-600 mb-6 tracking-tighter">%{Math.round((getScore() / totalPoints) * 100)}</div>
                                    <p className="text-slate-500 font-black text-2xl uppercase tracking-widest">{getScore()} / {totalPoints} Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©</p>
                                </div>
                                <div className="flex flex-col sm:flex-row gap-6">
                                    <button onClick={() => setView('menu')} className="flex-1 py-6 bg-slate-100 text-slate-600 font-black rounded-3xl border-2 border-slate-200 transition-all text-xl hover:bg-slate-200">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                                    <button onClick={() => handleStart(activeSubject)} className="flex-1 py-6 bg-indigo-600 text-white font-black rounded-3xl shadow-2xl hover:bg-indigo-700 transition-all text-xl">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
                                </div>
                            </div>
                        )}
                    </main>

                    <footer className="mt-auto pt-20 text-slate-300 text-[11px] font-black uppercase tracking-[0.4em] flex items-center gap-4 opacity-40">
                        <div className="h-[2px] w-12 bg-slate-300"></div>
                        <span>Interactive Student Portal 1446</span>
                        <div className="h-[2px] w-12 bg-slate-300"></div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

